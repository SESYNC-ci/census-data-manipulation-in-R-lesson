---
# empflag for NA strings
#
---

## Sample data

To learn about data transformation with dplyr, we need more data. The [County Business Patterns (CBP) dataset] provides subnational economic data by industry. The annual series includes the number of establishments, employment, and payroll.

[County Business Patterns (CBP) dataset]: https://www.census.gov/programs-surveys/cbp/data/datasets.html

===

![]({{ site.baseurl }}/images/data.jpg){: width="40%"}  
*Credit: [US Census Bureau](https://www.census.gov/programs-surveys/cbp.html)*
{:.captioned}

===

The [CBP dataset documentation] explains the variables. The key variables we use in this lesson are ## FIXME
{:.notes}

[CBP dataset documentation]: https://www2.census.gov/programs-surveys/rhfs/cbp/technical%20documentation/2015_record_layouts/county_layout_2015.txt

```{r read_data, title = '{{ site.handouts[0] }}'}
cbp <- read.csv('data/cbp15co.csv')
```
```{r}
str(cbp)
```

===

Modify the function to specify what string in the CSV file represents NAs, a.k.a. data that is not-available or missing.

```{r read_data_na, title = '{{ site.handouts[0] }}'}
cbp <- read.csv(
  'data/cbp15co.csv',
  na.strings = '')
```

===

Question
: What changed?

Answer
: {:.fragment} Using `str()` shows that the factors have one less level, and the empty string is no longer included.

