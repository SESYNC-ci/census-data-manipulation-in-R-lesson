---
---

## Tidy data concept

R developer Hadley Wickham (author of the tidyr, dplyr and ggplot packages, among others) defines tidy datasets ([Wickham 2014](http://www.jstatsoft.org/v59/i10/paper)) as those where:

* each variable forms a column;
* each observation forms a row; and
* each type of observational unit forms a table. 

These guidelines may be familiar to some of you---they closely map to best practices in database design.

===

Begin with a `data.frame` where the outcome of an experiment is *recorded* in a perfectly appropriate way:

```{r title="{{ site.handouts }}"}
response <- data.frame(
  trial = 1:3,
  treatment = c(0.22, 0.58, 0.31),
  control = c(0.42, 0.19, 0.40)
)
```

```{r}
response
```

===

Question
: How would you structure this data in a tidy format as defined above?

Answer
: {:.fragment} Currently, `response` has multiple observations in each row: the observed response in the treatment group and in the control group. For analysis, the data should include a categorical variable for treatment vs. control. 

To put it another way, if your analysis needs some set of names that are found in the column headers to serve as predictors, then you've got to tidy up!
{:.notes}

